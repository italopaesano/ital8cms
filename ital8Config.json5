{
  "globalPrefix": "",
  "apiPrefix": "api",
  "adminPrefix": "admin",
  "enableAdmin": true,
  "pluginPagesPrefix": "pluginPages",
  "viewsPrefix": "views",
  "baseThemePath": "../",
  "activeTheme": "placeholderExample",
  "adminActiveTheme": "defaultAdminTheme",
  "wwwPath": "/www",
  // Path alla directory di serving delle plugin pages (relativo alla root del progetto)
  // Usato da servingRootResolver per determinare il root di isolamento per-plugin
  "pluginPagesPath": "/pluginPages",
  // Path alla directory di serving delle pagine admin (relativo alla root del progetto)
  // Usato da servingRootResolver per determinare il root di isolamento per-sezione
  "adminPagesPath": "/core/admin/webPages",
  "browserCacheEnabled": false,
  "browserCacheMaxAge": 86400,
  "publicThemeResourcesPrefix": "public-theme-resources",
  "adminThemeResourcesPrefix": "admin-theme-resources",
  "debugMode": 1,
  "httpPort": 3000,

  // â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  // HTTPS CONFIGURATION
  // â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  // Configurazione server HTTPS. Se "enabled": false il server parte solo in HTTP.
  //
  // Comportamento:
  //   - "enabled": false â†’ Solo HTTP su httpPort (default)
  //   - "enabled": true  â†’ Server HTTPS su https.port
  //       + "AutoRedirectHttpPortToHttpsPort": true  â†’ HTTP su httpPort redirige 301 a HTTPS
  //       + "AutoRedirectHttpPortToHttpsPort": false â†’ HTTP su httpPort serve l'app completa in parallelo
  //
  // In caso di errore nel caricamento dei certificati:
  //   â†’ console.error + fallback automatico a HTTP puro su httpPort
  //
  // Percorsi certificati: assoluti oppure relativi alla root del progetto
  //   - "certFile": certificato server (es. fullchain.pem di Let's Encrypt) [OBBLIGATORIO se enabled]
  //   - "keyFile":  chiave privata (es. privkey.pem di Let's Encrypt)        [OBBLIGATORIO se enabled]
  //   - "caFile":   catena CA intermedia (es. chain.pem di Let's Encrypt)    [OPZIONALE]
  //
  // "tlsOptions": oggetto opzionale passato raw a https.createServer().
  //   Viene unito DOPO certFile/keyFile/caFile, quindi NON puÃ² sovrascriverli.
  //   Utile per parametri avanzati TLS: ciphers, secureProtocol, requestCert, ecc.
  // â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

  "https": {
    "enabled": true,                          // true = abilita HTTPS
    "port": 3443,                             // Porta HTTPS (default 443)
    "AutoRedirectHttpPortToHttpsPort": false,  // true = redirect 301 HTTPâ†’HTTPS
    "certFile": "./certs/fullchain.pem",      // Percorso certificato server
    "keyFile": "./certs/privkey.pem",         // Percorso chiave privata
    "caFile": "",                             // Percorso CA intermedia (opzionale, "" = disabilitato)
    "tlsOptions": {},                         // Opzioni TLS avanzate (opzionale)

    // Soglie di avviso scadenza certificato (giorni rimanenti alla scadenza)
    "expiryWarningDays": 60,                  // âš   warning  â€” avviare il rinnovo
    "expiryCriticalDays": 15,                 // ğŸ”´ critical â€” rinnovo urgente

    // Ricarica certificati senza riavvio quando i file cambiano su disco
    // Utile dopo certbot renew: ital8cms rileva la modifica e chiama setSecureContext()
    "hotReload": {
      "enabled": true,
      "debounceMs": 2000,                     // attesa dopo l'ultimo evento fs prima di ricaricare (evita reload su scritture parziali)
    },

    // Endpoint ACME HTTP-01 challenge per rinnovo automatico Let's Encrypt
    // Path fisso (RFC 8555): GET /.well-known/acme-challenge/:token
    // webroot: stesso path passato a certbot --webroot -w (es. "/var/www/html")
    //   ital8cms legge i token da: {webroot}/.well-known/acme-challenge/{token}
    //   Comando certbot compatibile: certbot certonly --webroot -w {webroot} -d example.com
    "acmeChallenge": {
      "enabled": false,
      "webroot": "",                          // path assoluto o relativo alla root del progetto
    },
  },

  // â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  // PRIORITY MIDDLEWARES CONFIGURATION
  // â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  // Configurazione dei priority middlewares (middleware caricati prima di tutto)
  // NOTA: bodyParser e router sono SEMPRE attivi (core hardcoded, non disabilitabili)
  // Ordine di caricamento fisso: bodyParser â†’ session â†’ router â†’ [futuri optional]
  //
  // Middleware configurabili:
  //   - "session": Gestione sessioni utente (richiesto per autenticazione)
  //     Default: true - Disabilitare solo se autenticazione non serve
  //
  // Futuri middleware opzionali verranno aggiunti qui
  // â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

  "priorityMiddlewares": {
    "session": true  // Gestione sessioni (true = attivo, false = disattivato)
  },

  // â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  // GLOBAL FUNCTIONS WHITELIST
  // â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  // Definisce quali plugin possono esportare funzioni globali nei template EJS
  // SICUREZZA: Solo le funzioni in questa whitelist possono diventare globali
  //
  // Comportamento:
  //   - Se "required": true  â†’ Server NON parte se plugin mancante (CRASH STARTUP)
  //   - Se "required": false â†’ Crea funzione fallback che logga WARNING quando chiamata
  //   - Plugin che provano a esportare funzioni NON in whitelist â†’ WARNING + ignorata
  //   - Versione locale (passData.plugin.{pluginName}.{function}) SEMPRE disponibile
  //
  // Formato:
  //   "nomeFunzione": {
  //     "plugin": "nomePlugin",        // Plugin autorizzato (UNICO)
  //     "description": "...",           // Descrizione funzione
  //     "required": true/false          // Default: false se omesso
  //   }
  // â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

  "globalFunctionsWhitelist": {
    "__": {
      "plugin": "simpleI18n",
      "description": "Translation function for internationalization",
      "required": true
    },
    // Aggiungi altre funzioni globali qui quando necessario
    // Esempio:
    // "formatDate": {
    //   "plugin": "dateFormatter",
    //   "description": "Date formatting utility",
    //   "required": false
    // }
  }
}